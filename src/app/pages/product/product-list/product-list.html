@if((products$ | async); as items) {
<!-- Data has loaded -->
<div class="px-20 mb-64 h-screen">
  <h1 class="text-xl font-semibold py-4">Product List</h1>

  @if(items.products && items.products.length > 0) {
  <!-- Products exist - show grid -->
  <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
    @for(item of items.products; track (item.id || $index)) {
    <div
      class="group flex flex-col bg-white hover:shadow-xl cursor-pointer overflow-hidden rounded-lg transition-all duration-300"
    >
      <span>
        <img
          class="w-full h-48 object-cover"
          [src]="item.image"
          [alt]="item.name || 'product image'"
        />
      </span>
      <div class="flex flex-col p-4">
        <span class="font-medium text-sm mb-1">{{ item.name }}</span>
        <span class="text-xl font-semibold mb-2">
          {{ item.price | currency : "EUR" }}
        </span>
        <span class="text-sm mb-6">
          {{ item.description | truncate }}
        </span>
        <div class="mt-auto">
          <button
            class="bg-primary w-full opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-300 transform translate-y-2 group-hover:translate-y-0 rounded-sm btn"
            mat-flat-button
          >
            Add to cart
          </button>
        </div>
      </div>
    </div>
    }
  </div>
  } @else {
  <!-- No products found -->
  <div class="px-20 mb-64 h-screen">
    <h1 class="text-xl font-semibold py-4">Product List</h1>
    <div class="flex flex-col items-center justify-center py-20">
      <div class="text-center">
        <svg
          class="mx-auto h-16 w-16 text-gray-400 mb-4"
          fill="none"
          stroke="currentColor"
          viewBox="0 0 24 24"
        >
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="2"
            d="M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2 2v-5m16 0h-2M4 13h2m13-8V9a2 2 0 00-2-2H9a2 2 0 00-2 2v4.92"
          ></path>
        </svg>
        <h3 class="text-lg font-medium text-gray-900 mb-2">
          No content returned
        </h3>
        <p class="text-gray-500">No products are currently available.</p>
      </div>
    </div>
  </div>
  }
</div>
} @else {

<app-loader [info]="'Retrieving products'"></app-loader>

}
